<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head> 
  <title>[[${titleShow}]]</title>
  <link rel="stylesheet" href="/style1.css">
</head>

<body>
  <header>
    <div style="display: flex;">
      <div><h1 th:object="${wordList}">[[${titleShow}]]</h1></div>
      <div th:replace="~{header :: UserInfo }"></div>
    </div>
  </header>

  <h3>登録情報
    <input type="checkbox" onclick="toggleDynamicArea(event, 'titleTr', 'table-row')" id="custom1" class="customCheckBox1">
    <label for="custom1" class="customCheckBoxL1"></label>
  </h3><div class="h3Line"></div><div class="blankLine"></div>     


  <form action="regist" method="post" name="registDataName" id="registData" th:object="${registData}">
  <div class="customTable1">
  <table id="editTable">
  <tbody>
    <tr style="display: none;" id="titleTr" class="dynamicArea">
      <td><label for="title">[[${wordList.tableWord[1]}]]</label></td>
      <td><textarea name="title" id="title" maxlength="210" rows="4" cols="50" th:field="*{title}" class="customInput2"></textarea></td>
      <td></td>
    </tr>

    <tr>
      <td><label for="priority">[[${wordList.tableWord[2]}]]</label></td>
      <td><input type="number" name="priority" id="priority" min="1" max="9" th:field="*{priority}" class="customInput1"></td>
      <td></td>
    </tr>

    <tr>
      <td><label for="status">[[${wordList.tableWord[3]}]]</label></td>
      <td>
        <select name="status" id="status" class="customInput1">
          <option value="1" th:selected="*{status == 1}">[[${wordList.statusWord[1]}]]</option>
          <option value="2" th:selected="*{status == 2}">[[${wordList.statusWord[2]}]]</option>
          <option value="3" th:selected="*{status == 3}">[[${wordList.statusWord[3]}]]</option>
          <option value="4" th:selected="*{status == 4}">[[${wordList.statusWord[4]}]]</option>
          <option value="5" th:selected="*{status == 5}">for-error</option><!-- for debug-->
        </select>
      </td>
      <td></td>
    </tr>

    <tr>
      <td><label for="category">[[${wordList.tableWord[4]}]]</label></td>
      <td>
        <select name="category" id="category" class="customInput1">
          <option value="1" th:selected="*{category == 1}">[[${wordList.categoryWord[1]}]]</option>
          <option value="2" th:selected="*{category == 2}">[[${wordList.categoryWord[2]}]]</option>
          <option value="3" th:selected="*{category == 3}">[[${wordList.categoryWord[3]}]]</option>
          <option value="4" th:selected="*{category == 4}">[[${wordList.categoryWord[4]}]]</option>
          <option value="5" th:selected="*{category == 5}">[[${wordList.categoryWord[5]}]]</option>
          <option value="6" th:selected="*{category == 6}">[[${wordList.categoryWord[6]}]]</option>
          <option value="-1">for-error</option><!-- for debug-->
        </select>
      </td>
      <td></td>
    </tr>

    <tr>
      <td><label for="worker">[[${wordList.tableWord[5]}]]</label></td>
      <td><input name="worker" id="worker" maxlength="35" th:field="*{worker}" class="customInput1"></td>
      <td></td>
    </tr>

    <tr>
      <td><label for="deadline">[[${wordList.tableWord[6]}]]</label></td>
      <td><input type="date" name="deadline" id="deadline" th:value="*{deadline}" class="customInput1"></td>
      <td></td>
    </tr>

    <tr>
      <td></td>
      <td><input class="customButton1" type="button" value="Edit" onclick="writeItem()"></td>
      <td></td>
    </tr>

    <tr>
      <td></td>
      <td><input class="customButton1" type="button" value="Delete" onclick="deleteConfirm()"></td>
      <td></td>
    </tr>

  </tbody>
  </table>
  </div>
  </form>





  <h3>進捗記入
    <input type="checkbox" onclick="toggleDynamicArea(event, 'progressWriteArea', 'flex')" id="custom2" class="customCheckBox1">
    <label for="custom2" class="customCheckBoxL1"></label>
  </h3>
  <div class="h3Line"></div><div class="blankLine"></div>

  <div style="display: none;" id="progressWriteArea" class="dynamicArea">
    <div class="flexItem" >
      <textarea name="progress" id="progress" maxlength="800" rows="10" cols="80"></textarea>
    </div>
    <div class="flexItem" >
      <input class="customButton1" id="writeProgress" type="button" value="Write" onclick="writeProgress()">
    </div>
  </div>

  <br>
  <div class="progressMain" th:each="list : ${progressList}">
    <div class="customHeadline1" style="display: inline-block;">
    <div style="display: flex;">
      <div class="flexItem2">
        #[[${list.progressId}]]
      </div>
      <div class="flexItem2" >
        [[${list.date}]]
      </div>
      <div class="flexItem2" >
        <input type="checkbox" onclick="toggleProgressEditor(event)" th:id="'pid' + ${list.progressId}" class="customCheckBox1">
        <label th:for="'pid' + ${list.progressId}" class="customCheckBoxL1"></label>
      </div>
      <div style="display: none;" id="KeyId">
        [[${list.id}]]
      </div>
    </div>
    </div>
    <p th:utext="${list.contents}" class="customContents1"></p><br>

  </div>

  <hr>
  <div th:insert="~{footer :: links}"></div>
  <div th:insert="~{footer :: deleteDialog}"></div>
  <input name="_csrf" type="hidden" id="csrfToken" th:value="${_csrf.token}">

  <script src="/common.js"></script>
  <script src="/show.js"></script>
</body>
</html>

